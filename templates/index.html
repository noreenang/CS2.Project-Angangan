{% extends "base.html" %}
{% block title %}Movie List{% endblock %}

{% block content %}
<h1 class="page-title">ðŸŽ¬ Movie Collection</h1>

<div class="movies-grid">
    {% for movie in movies %}
        <div class="movie-card">
            <div class="poster">
                {% if movie.image %}
                    <img src="{{ url_for('static', filename='uploads/' + movie.image) }}" alt="{{ movie.title }}">
                {% else %}
                    <div class="placeholder">No Image</div>
                {% endif %}
            </div>
            <div class="movie-info">
                <h2>{{ movie.title }}</h2>
                <p class="genre">{{ movie.genre }}</p>
                <div class="stars">
                    {% for i in range(1,6) %}
                        <span class="star {% if i <= movie.rating|int %}selected{% endif %}">â˜…</span>
                    {% endfor %}
                    <p class="added-by">
    Added by: {{ movie.get("owner", "Unknown") }}
</p>

                </div>
                <p class="review">{{ movie.review[:100] ~ ('...' if movie.review|length > 100 else '') }}</p>
                <div class="actions">
    <a href="{{ url_for('movie_details', id=movie.id) }}" class="btn">View</a>

    {% if user == movie.owner %}
        <a href="{{ url_for('edit_movie', id=movie.id) }}" class="btn edit">Edit</a>
        <a href="{{ url_for('delete_movie', id=movie.id) }}" class="btn delete"
           onclick="return confirm('Are you sure?')">Delete</a>
    {% endif %}
</div>

            </div>
        </div>
    {% else %}
    <p>No movies added yet.</p>
{% endfor %}


{% endblock %}